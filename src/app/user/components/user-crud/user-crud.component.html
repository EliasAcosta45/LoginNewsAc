<div class="container mt-5">
  <div class="row">
    <!-- Sección de visualización -->
    <div class="col-md-8">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Lista de Favoritos</h5>

          <!-- Buscador -->
          <div class="mb-3">
            <input 
              type="text" 
              class="form-control" 
              placeholder="Buscar favorito..." 
              [(ngModel)]="searchQuery" 
              (input)="searchFavorites()">
          </div>

          <!-- Lista de Favoritos -->
          <ul class="list-group">
            <li *ngFor="let favorite of filteredFavorites" class="list-group-item d-flex justify-content-between align-items-center">
              <div>
                <strong>{{ favorite.favNombre }}</strong><br>
                <small>Fecha: {{ favorite.Fecha }}</small><br>
                <small>Título: {{ favorite.Newtitle }}</small>
              </div>

              <!-- Botones de editar y borrar -->
              <div>
                <button 
                  class="btn btn-primary btn-sm me-2" 
                  (click)="editFavorite(favorite)">
                  <i class="bi bi-pencil"></i> Editar
                </button>
                <button 
                  class="btn btn-danger btn-sm" 
                  (click)="deleteFavorite(favorite.idFavorite)">
                  <i class="bi bi-trash"></i> Eliminar
              </button>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Sección de edición (aparece solo si se selecciona un favorito) -->
  <div *ngIf="selectedFavorite" class="col-md-4">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Editar Favorito</h5>

        <div class="mb-3">
          <label for="updatedName" class="form-label">Nuevo Nombre</label>
          <input 
            type="text" 
            id="updatedName" 
            class="form-control" 
            [(ngModel)]="updatedName">
        </div>

        <button class="btn btn-success" (click)="saveFavorite()">Guardar Cambios</button>
        <button class="btn btn-secondary ms-2" (click)="selectedFavorite = null">Cancelar</button>
      </div>
    </div>
  </div>
</div>
</div>
